import{b as $,r as c,a as S,u as M,j as e,L as _,O as L}from"./index-308f1f7c.js";import{b as O}from"./api-d8b78cbe.js";import{g as B}from"./genres-names-2136eebc.js";const E="_light_aws08_1",R="_dark_aws08_1",T="_additional_aws08_3",C="_go_back_aws08_20",D="_details_aws08_24",G="_image_wrapper_aws08_30",F="_title_wrapper_aws08_41",H="_image_aws08_30",I="_imagecont_aws08_58",P="_info_aws08_61",U="_info__item_aws08_69",s={light:E,dark:R,additional:T,go_back:C,details:D,image_wrapper:G,title_wrapper:F,image:H,imagecont:I,info:P,info__item:U},A=()=>{const{movieId:o}=$(),[a,x]=c.useState(""),[d,p]=c.useState(null),[f,j]=c.useState(""),{state:n}=S(),h=M();c.useEffect(()=>{if(n!=null&&n.from){const{pathname:i,search:r}=n.from;p(i),j(r)}},[n==null?void 0:n.from]),c.useEffect(()=>{O(o).then(i=>{v(i),x(i)})},[o]);function v(i){return N(B,i.genres),i}function N(i,r){let l=[];return i.map(t=>(r.includes(t.id)&&l.push(t.name),l))}function w(){if(d===null){h("/",{replace:!0});return}else h(`${d}${f}`)}function b(i){var r=i,l=r/60,t=Math.floor(l),k=(l-t)*60,m=Math.round(k);let u=t===1?`${t} hour `:`${t} hours `,g=m===1?`${m} minute`:`${m} minutes`;return t===0&&(u=""),m===0&&(g=""),u+g}return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:w,className:s.go_back}),a&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:s.details,children:[e.jsxs("div",{className:s.description,children:[e.jsx("h1",{children:"Others"}),e.jsxs("ul",{className:s.info,children:[a.vote_average!==0?e.jsxs("li",{className:s.info__item,children:["User Score: ",e.jsxs("span",{className:s.info__value,children:[e.jsx("span",{className:s.star,children:e.jsx("i",{className:"fa fa-star-o"})})," ",a.vote_average]})]}):e.jsxs("li",{className:s.info__item,children:["User Score: ",e.jsxs("span",{className:s.info__value,children:[e.jsx("span",{className:s.star,children:e.jsx("i",{className:"fa fa-star-o"})})," --"]})]}),a.budget!==0?e.jsxs("li",{className:s.info__item,children:["Budget: ",e.jsxs("span",{className:s.info__value,children:["$",a.budget.toLocaleString()]})]}):"",a.revenue!==0?e.jsxs("li",{className:s.info__item,children:["Revenue: ",e.jsxs("span",{className:s.info__value,children:["$",a.revenue.toLocaleString()]})]}):"",a.runtime!==0?e.jsxs("li",{className:s.info__item,children:["Runtime: ",e.jsx("span",{className:s.info__value,children:b(a.runtime)})]}):"",e.jsxs("li",{className:s.info__item,children:["Genres: ",e.jsx("ul",{className:s.genres,children:a.genres.length>0?a.genres.map(({id:i,name:r},l)=>e.jsx("li",{className:s.genres__item,children:(l?", ":"")+r},i)):e.jsx("p",{className:s.genres__item,children:"Other"})})]})]})]}),e.jsxs("div",{className:s.image_wrapper,children:[e.jsxs("div",{className:s.imagecont,children:[a.poster_path?e.jsx("img",{src:`https://image.tmdb.org/t/p/w500${a.poster_path}`,alt:a.original_title,className:s.image}):e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg",alt:a.original_title,className:s.image}),e.jsx("h2",{className:s.title,children:a.original_title})]}),e.jsxs("div",{className:s.title_wrapper,children:[e.jsx("h1",{className:s.title,children:"Sinopsis"}),e.jsx("p",{className:s.overview,children:a.overview}),e.jsx("br",{}),e.jsx("h3",{children:"Movie Tagline"}),a.tagline!==""?e.jsxs("p",{className:s.tagline,children:['"',a.tagline,'"']}):""]})]})]}),e.jsxs("div",{className:s.additional,children:[e.jsx(_,{to:`/movies/${o}/cast`,className:s.additional__button,children:e.jsx("button",{children:"Cast"})}),e.jsx(_,{to:`/movies/${o}/reviews`,className:s.additional__button,children:e.jsx("button",{children:"Reviews"})}),e.jsx(_,{to:`/movies/${o}/videos`,className:s.additional__button,children:e.jsx("button",{children:"Trailer"})})]})]}),e.jsx(L,{})]})};export{A as default};
