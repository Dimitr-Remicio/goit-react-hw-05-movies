import{b as k,r as c,a as S,u as M,j as e,L as d,O as L}from"./index-b9ea9152.js";import{b as B}from"./api-d8b78cbe.js";import{g as E}from"./genres-names-2136eebc.js";const O="_additional_p20d4_1",s={additional:O},G=()=>{const{movieId:o}=k(),[a,f]=c.useState(""),[u,v]=c.useState(null),[j,g]=c.useState(""),{state:t}=S(),h=M();c.useEffect(()=>{if(t!=null&&t.from){const{pathname:i,search:r}=t.from;v(i),g(r)}},[t==null?void 0:t.from]),c.useEffect(()=>{B(o).then(i=>{p(i),f(i)})},[o]);function p(i){return N(E,i.genres),i}function N(i,r){let l=[];return i.map(n=>(r.includes(n.id)&&l.push(n.name),l))}function b(){if(u===null){h("/",{replace:!0});return}else h(`${u}${j}`)}function $(i){var r=i,l=r/60,n=Math.floor(l),w=(l-n)*60,m=Math.round(w);let _=n===1?`${n} hour `:`${n} hours `,x=m===1?`${m} minute`:`${m} minutes`;return n===0&&(_=""),m===0&&(x=""),_+x}return e.jsxs(e.Fragment,{children:[a&&e.jsxs("div",{className:s.details,children:[e.jsx("button",{onClick:b,className:s.go_back}),e.jsx("div",{className:s.image_wrapper,children:a.poster_path?e.jsx("img",{src:`https://image.tmdb.org/t/p/w500${a.poster_path}`,alt:a.original_title,className:s.image}):e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg",alt:a.original_title,className:s.image})}),e.jsxs("div",{className:s.description,children:[e.jsxs("div",{className:s.title_wrapper,children:[e.jsx("h2",{className:s.title,children:a.original_title}),a.tagline!==""?e.jsxs("p",{className:s.tagline,children:['"',a.tagline,'"']}):""]}),e.jsxs("ul",{className:s.info,children:[a.vote_average!==0?e.jsxs("li",{className:s.info__item,children:["User Score: ",e.jsxs("span",{className:s.info__value,children:[e.jsx("span",{className:s.star,children:e.jsx("i",{className:"fa fa-star-o"})})," ",a.vote_average]})]}):e.jsxs("li",{className:s.info__item,children:["User Score: ",e.jsxs("span",{className:s.info__value,children:[e.jsx("span",{className:s.star,children:e.jsx("i",{className:"fa fa-star-o"})})," --"]})]}),a.budget!==0?e.jsxs("li",{className:s.info__item,children:["Budget: ",e.jsxs("span",{className:s.info__value,children:["$",a.budget.toLocaleString()]})]}):"",a.revenue!==0?e.jsxs("li",{className:s.info__item,children:["Revenue: ",e.jsxs("span",{className:s.info__value,children:["$",a.revenue.toLocaleString()]})]}):"",a.runtime!==0?e.jsxs("li",{className:s.info__item,children:["Runtime: ",e.jsx("span",{className:s.info__value,children:$(a.runtime)})]}):"",e.jsxs("li",{className:s.info__item,children:["Genres: ",e.jsx("ul",{className:s.genres,children:a.genres.length>0?a.genres.map(({id:i,name:r},l)=>e.jsx("li",{className:s.genres__item,children:(l?", ":"")+r},i)):e.jsx("p",{className:s.genres__item,children:"Other"})})]})]}),e.jsx("p",{className:s.overview,children:a.overview}),e.jsxs("div",{className:s.additional,children:[e.jsx(d,{to:`/movies/${o}/cast`,className:s.additional__button,children:e.jsx("button",{children:"Cast"})}),e.jsx(d,{to:`/movies/${o}/reviews`,className:s.additional__button,children:e.jsx("button",{children:"Reviews"})}),e.jsx(d,{to:`/movies/${o}/videos`,className:s.additional__button,children:e.jsx("button",{children:"Trailer"})})]})]})]}),e.jsx(L,{})]})};export{G as default};
