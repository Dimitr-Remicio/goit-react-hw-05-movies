import{j as s,a as x,L as f,P as c}from"./index-308f1f7c.js";import{g as h}from"./genres-names-2136eebc.js";const u="_gallery_fzkmx_1",j={gallery:u};function $({children:n}){return s.jsx("ul",{className:j.gallery,children:n})}const N="_light_1noxf_1",k="_dark_1noxf_1",y="_item_1noxf_3",w="_title_1noxf_24",L="_link_1noxf_25",O="_image_wrapper_1noxf_49",b="_description_1noxf_82",q="_genres_1noxf_111",P="_genres__item_1noxf_118",R="_info_1noxf_123",v="_rating_1noxf_128",e={light:N,dark:k,item:y,title:w,link:L,image_wrapper:O,description:b,genres:q,genres__item:P,info:R,rating:v};function D({data:n}){const i=x(),r=new URLSearchParams(i.search).get("query")??"";return n.map(({title:a,id:l,poster_path:t,genres:o,release_date:m,vote_average:_})=>s.jsx("li",{className:e.item,children:s.jsxs(f,{to:`/movies/${l}`,state:{from:i,search:r},className:e.link,children:[s.jsx("div",{className:e.image_wrapper,children:t?s.jsx("img",{src:`https://image.tmdb.org/t/p/w500${t}`,alt:a,className:e.image}):s.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg",alt:a,className:e.image})}),s.jsxs("div",{className:e.description,children:[s.jsx("h3",{className:e.title,children:a}),s.jsx("ul",{className:e.genres,children:o.length>0?o.map(({id:g,name:p},d)=>s.jsx("li",{className:e.genres__item,children:(d?", ":"")+p},g)):s.jsx("p",{className:e.genres__item,children:"Other"})}),s.jsxs("p",{className:e.info,children:[_!==0?s.jsxs("span",{className:e.rating,children:[s.jsx("i",{className:"fa fa-star-o"})," ",_]}):s.jsxs("span",{className:e.rating,children:[s.jsx("i",{className:"fa fa-star-o"})," --"]}),m!==""?s.jsx("span",{className:e.date,children:parseInt(m)}):s.jsx("span",{className:e.date,children:"--"})]})]})]})},l))}D.propTypes={data:c.arrayOf(c.shape({id:c.number.isRequired,title:c.string.isRequired}))};function z(n){return n.map(i=>{let a=G(h,i.genre_ids)[0];if(a.length>3){a.splice(2,5);let t={id:777,name:"Other"};a.push(t)}return{...i,genres:a}})}function G(n,i){let r=[];return n.map(a=>(i.includes(a.id)&&r.push(a),r))}export{$ as M,D as a,z as n};
