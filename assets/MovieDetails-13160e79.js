import{b as C,r as o,a as $,u as S,j as e,L as d,O as M}from"./index-f37f0c7f.js";import{b as B}from"./api-d8b78cbe.js";import{g as R}from"./genres-names-2136eebc.js";const D="_light_9lal6_1",L="_dark_9lal6_1",O="_additional_9lal6_3",E="_buttonback_9lal6_20",G="_go_back_9lal6_33",T="_details_9lal6_38",F="_image_wrapper_9lal6_44",H="_title_wrapper_9lal6_55",I="_title_9lal6_55",P="_image_9lal6_44",U="_imagecont_9lal6_80",y="_info_9lal6_87",z="_info__item_9lal6_95",q="_info__value_9lal6_101",A="_tagother_9lal6_104",J="_genres_9lal6_108",K="_genres__item_9lal6_113",Q="_overview_9lal6_117",V="_tagline_9lal6_121",W="_tagCont_9lal6_125",X="_star_9lal6_133",Y="_description_9lal6_168",s={light:D,dark:L,additional:O,buttonback:E,go_back:G,details:T,image_wrapper:F,title_wrapper:H,title:I,"title-decript":"_title-decript_9lal6_65",image:P,imagecont:U,info:y,info__item:z,info__value:q,tagother:A,genres:J,genres__item:K,overview:Q,tagline:V,tagCont:W,star:X,description:Y},ae=()=>{const{movieId:c}=C(),[a,v]=o.useState(""),[m,x]=o.useState(null),[j,N]=o.useState(""),{state:l}=$(),h=S();o.useEffect(()=>{if(l!=null&&l.from){const{pathname:i,search:n}=l.from;x(i),N(n)}},[l==null?void 0:l.from]),o.useEffect(()=>{B(c).then(i=>{p(i),v(i)})},[c]);function p(i){return f(R,i.genres),i}function f(i,n){let r=[];return i.map(t=>(n.includes(t.id)&&r.push(t.name),r))}function b(){if(m===null){h("/",{replace:!0});return}else h(`${m}${j}`)}function k(i){var n=i,r=n/60,t=Math.floor(r),w=(r-t)*60,_=Math.round(w);let g=t===1?`${t} hour `:`${t} hours `,u=_===1?`${_} minute`:`${_} minutes`;return t===0&&(g=""),_===0&&(u=""),g+u}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:s.buttonback,children:e.jsx("button",{onClick:b,className:s.go_back,children:"Go Back"})}),a&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:s.details,children:[e.jsxs("div",{className:s.description,children:[e.jsx("h1",{className:s.titleDecript,children:"Others"}),e.jsxs("ul",{className:s.info,children:[a.vote_average!==0?e.jsxs("li",{className:s.info__item,children:[e.jsx("div",{className:s.tagother,children:"User Score:"}),e.jsx("div",{className:s.tagCont,children:e.jsxs("span",{className:s.info__value,children:[e.jsx("span",{className:s.star,children:e.jsx("i",{className:"fa-sharp fa-regular fa-star"})})," ",a.vote_average]})})]}):e.jsxs("li",{className:s.info__item,children:[e.jsx("div",{className:s.tagother,children:"User Score:"})," ",e.jsx("div",{className:s.tagCont,children:e.jsxs("span",{className:s.info__value,children:[e.jsx("span",{className:s.star,children:e.jsx("i",{className:"fa fa-star-o"})})," --"]})})]}),a.budget!==0?e.jsxs("li",{className:s.info__item,children:[e.jsx("div",{className:s.tagother,children:"Budget: "}),e.jsx("div",{className:s.tagCont,children:e.jsxs("span",{className:s.info__value,children:["$",a.budget.toLocaleString()]})})]}):e.jsxs("li",{className:s.info__item,children:[e.jsx("div",{className:s.tagother,children:"Budget: "}),e.jsx("div",{className:s.tagCont,children:e.jsx("span",{className:s.info__value,children:"none"})})]}),a.revenue!==0?e.jsxs("li",{className:s.info__item,children:[e.jsx("div",{className:s.tagother,children:"Revenue:"})," ",e.jsx("div",{className:s.tagCont,children:e.jsxs("span",{className:s.info__value,children:["$",a.revenue.toLocaleString()]})})]}):e.jsxs("li",{className:s.info__item,children:[e.jsx("div",{className:s.tagother,children:"Revenue:"})," ",e.jsx("div",{className:s.tagCont,children:e.jsx("span",{className:s.info__value,children:"none"})})]}),a.runtime!==0?e.jsxs("li",{className:s.info__item,children:[e.jsx("div",{className:s.tagother,children:"Runtime:"}),e.jsxs("div",{className:s.tagCont,children:[" ",e.jsx("span",{className:s.info__value,children:k(a.runtime)})]})]}):e.jsxs("li",{className:s.info__item,children:[e.jsx("div",{className:s.tagother,children:"Runtime:"}),e.jsxs("div",{className:s.tagCont,children:[" ",e.jsx("span",{className:s.info__value,children:"none"})]})]}),e.jsxs("li",{className:s.info__item,children:[e.jsx("div",{className:s.tagother,children:"Genres: "})," ",e.jsx("ul",{className:s.genres,children:a.genres.length>0?a.genres.map(({id:i,name:n},r)=>e.jsx("div",{className:s.tagCont,children:""+n+","},i)):e.jsx("p",{className:s.genres__item,children:"Other"})})]})]})]}),e.jsxs("div",{className:s.image_wrapper,children:[e.jsxs("div",{className:s.imagecont,children:[a.poster_path?e.jsx("img",{src:`https://image.tmdb.org/t/p/w500${a.poster_path}`,alt:a.original_title,className:s.image}):e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg",alt:a.original_title,className:s.image}),e.jsx("h2",{className:s.title,children:a.original_title})]}),e.jsxs("div",{className:s.title_wrapper,children:[e.jsxs("div",{children:[e.jsx("h1",{className:s.titleDecript,children:"Sinopsis"}),e.jsx("p",{className:s.overview,children:a.overview})]}),e.jsx("br",{}),e.jsxs("div",{children:[e.jsx("h3",{children:"Movie Tagline"}),a.tagline!==""?e.jsxs("p",{className:s.tagline,children:['"',a.tagline,'"']}):""]})]})]})]}),e.jsxs("div",{className:s.additional,children:[e.jsx(d,{to:`/movies/${c}/cast`,className:s.additional__button,children:e.jsx("button",{children:"Cast"})}),e.jsx(d,{to:`/movies/${c}/reviews`,className:s.additional__button,children:e.jsx("button",{children:"Reviews"})}),e.jsx(d,{to:`/movies/${c}/videos`,className:s.additional__button,children:e.jsx("button",{children:"Trailer"})})]})]}),e.jsx(M,{})]})};export{ae as default};
